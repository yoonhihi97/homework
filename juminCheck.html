<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>주민등록번호 유효성 검사</title>
</head>
<body>
    <h2>주민등록번호 유효성 검사📑</h2>
    <h4>* '-'을 제외하고 입력해주세요.</h4>
    <form name = 'myform'>
        <input type="text" name="juminNum">
        <input type="button" value="확인" onclick="juminCheck()">
    </form>
    <div id="result"></div>
    <script>
        'use strict';
        function juminCheck() {
            let frm = document.myform;
            let jumin = frm.juminNum.value
            jumin = jumin.split('');
            let ckarr = [2,3,4,5,6,7,8,9,2,3,4,5];

            // 1. 각자리에 2,3,4,5,6,7,8,9,2,3,4,5를 곱해줌. 단 마지막 자리는 빼놓음
            for(let i=0; i<jumin.length-1; i++){
                jumin[i] = jumin[i] * ckarr[i];
            }
            let juminlast = jumin[jumin.length-1];

            // 2. 각 자리의 숫자를 모두 더함
            let sum = 0;
            for(let i=0; i<jumin.length-1; i++){
                sum += jumin[i];
            }

            //3. 11로 나눈 나머지 값을 구함
            sum = sum % 11;

            // 4. 11에서 결과값을 뺌(단, 마지막 결과가 두자리인 경우 다시 10으로 나눈 나머지 값을 구함)

            sum = 11 - sum;

            if(sum > 9){
                sum = sum % 10;
            }
            
            // 5. 결과가 주민등록번호 마지막 자리와 일치하면 유효한 주민등록번호임
            if(sum == juminlast){
                document.getElementById('result').innerHTML = '유효한 주민등록번호 입니다.';
            }
            if(sum != juminlast && juminlast != undefined){
                document.getElementById('result').innerHTML = '유효하지않은 주민등록번호 입니다.';
            }
        }
        juminCheck();
    </script>
</body>
</html>